CREATE PROCEDURE [dbo].[ShtoProduktePerPorosi]
	@PorosiaId int,
	@ProduktiId int,
	@Sasia int
AS
	INSERT INTO ProduktetEPorositura(PorosiaID,ProduktiID,Sasia,EshteGati) VALUES(@PorosiaId, @ProduktiId, @Sasia, 0);

	
==========================


MODIFY DB TABLE - PRODUKTI: 
FOREIGN KEY ([NenkategoriaId]) REFERENCES [dbo].[Nenkategoria] ([Id]),


==========================


CREATE PROCEDURE [dbo].[usp_KtheProduktetNgaKategoria]
	@KategoriId int

AS

	DECLARE @TempNenKategori TABLE (Id int)
	INSERT INTO 
		@TempNenKategori 
	SELECT 
		Id
	FROM 
		Nenkategoria
	WHERE 
		KategoriId = @KategoriId;

	--select Id from @TempNenKategori
	SELECT * FROM Produkti WHERE KategoriaId IN (select Id from @TempNenKategori);
	
	
===========================


CREATE PROCEDURE [dbo].[usp_KtheProduktetNgaNenkategoria]
	@Nenkategori int
AS
	SELECT * FROM Produkti WHERE KategoriaId=@Nenkategori;
	
	
=============================


CREATE PROCEDURE [dbo].[usp_KtheNenkategoriNgaKategoria]
	@KategoriId int
AS
	SELECT * FROM Nenkategoria WHERE KategoriId=@KategoriId;
	
	
=============================


CREATE PROCEDURE [dbo].[usp_KtheKategorite]
AS
	SELECT * FROM dbo.Kategoria;
	
	
==============================


CREATE PROCEDURE [dbo].[usp_KtheProduktetNgaKategoria]
	@KategoriId int

AS

	DECLARE @TempNenKategori TABLE (Id int)
	INSERT INTO 
		@TempNenKategori 
	SELECT 
		Id
	FROM 
		Nenkategoria
	WHERE 
		KategoriId = @KategoriId;

	--select Id from @TempNenKategori
	SELECT * FROM Produkti WHERE KategoriaId IN (select Id from @TempNenKategori);
	
	
==============================


CREATE PROCEDURE [dbo].[usp_KtheProduktetNgaNenkategoria]
	@Nenkategori int
AS
	SELECT * FROM Produkti WHERE KategoriaId=@Nenkategori;
	
	
==============================


